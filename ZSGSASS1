// creating database

mysql> CREATE DATABASE ZSGS;
Query OK, 1 row affected (0.03 sec)

mysql> USE ZSGS;
Database changed

// creating tables

mysql> CREATE TABLE students(
    -> student_id INT PRIMARY KEY AUTO_INCREMENT,
    -> name VARCHAR(100),
    -> gender ENUM('Male','Female','Other'),
    -> contact_info VARCHAR(255)
    -> );
Query OK, 0 rows affected (0.10 sec)

mysql> CREATE TABLE movie_genres(
    -> genre_id INT PRIMARY KEY AUTO_INCREMENT,
    -> genre_name VARCHAR(50)
    -> );
Query OK, 0 rows affected (0.03 sec)

mysql> CREATE TABLE student_movie_interests(
    -> student_id INT,
    -> genre_id INT,
    -> PRIMARY KEY(student_id,genre_id),
    -> FOREIGN KEY(student_id) REFERENCES students(student_id),
    -> FOREIGN KEY(genre_id)REFERENCES movie_genres(genre_id)
    -> );
Query OK, 0 rows affected (0.06 sec)

mysql> CREATE TABLE shopping_malls(
    -> mall_id INT PRIMARY KEY AUTO_INCREMENT,
    -> mall_name VARCHAR(100),
    -> location VARCHAR(100)
    -> );
Query OK, 0 rows affected (0.03 sec)

mysql> CREATE TABLE beaches(
    -> beach_id INT PRIMARY KEY AUTO_INCREMENT,
    -> beach_name VARCHAR(100),
    -> location VARCHAR(100)
    -> );
Query OK, 0 rows affected (0.03 sec)

mysql> CREATE TABLE movies(
    -> movie_id INT PRIMARY KEY AUTO_INCREMENT,
    -> movie_name VARCHAR(100),
    -> hero_name VARCHAR(100),
    -> heroine_name VARCHAR(100)
    -> );
Query OK, 0 rows affected (0.02 sec)

mysql> CREATE TABLE student_favorites(
    -> student_id INT PRIMARY KEY,
    -> favorite_actor VARCHAR(100),
    -> favorite_actress VARCHAR(100),
    -> FOREIGN KEY(student_id)REFERENCES students(student_id)
    -> );
Query OK, 0 rows affected (0.03 sec)

mysql> CREATE TABLE student_fav_malls(
    -> student_id INT,
    -> mall_id INT,
    -> PRIMARY KEY(student_id,mall_id),
    -> FOREIGN KEY(student_id)REFERENCES students(student_id),
    -> FOREIGN KEY(mall_id)REFERENCES shopping_malls(mall_id)
    -> );
Query OK, 0 rows affected (0.05 sec)

mysql> CREATE TABLE student_fav_beaches(
    -> student_id INT,
    -> beach_id INT,
    -> PRIMARY KEY(student_id,beach_id),
    -> FOREIGN KEY(student_id)REFERENCES students(student_id),
    -> FOREIGN KEY(beach_id)REFERENCES beaches(beach_id)
    -> );
Query OK, 0 rows affected (0.06 sec)

mysql> CREATE TABLE student_fav_movies(
    -> student_id INT,
    -> movie_id INT,
    -> PRIMARY KEY(student_id,movie_id),
    -> FOREIGN KEY(student_id)REFERENCES students(student_id),
    -> FOREIGN KEY(movie_id)REFERENCES movies(movie_id)
    -> );
Query OK, 0 rows affected (0.05 sec)

// inserting values for each tables

mysql> INSERT INTO students(name,gender,contact_info)VALUES
    -> ('Madhu','Female','8754156253'),
    -> ('Mitha','Female','8765345768'),
    -> ('Styris','Male','9834576235'),
    -> ('Navin','Male','8653457652'),
    -> ('Pooja','Female','8765345234'),
    -> ('Pravee','Female','7634612980'),
    -> ('Suriya','Male','7568347251'),
    -> ('Riya','Female','9856923654'),
    -> ('Loshini','Female','7667676934'),
    -> ('Sheik','Male','98765677634')
    -> ;
Query OK, 10 rows affected (0.02 sec)
Records: 10  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM students;
+------------+---------+--------+--------------+
| student_id | name    | gender | contact_info |
+------------+---------+--------+--------------+
|          1 | Madhu   | Female | 8754156253   |
|          2 | Mitha   | Female | 8765345768   |
|          3 | Styris  | Male   | 9834576235   |
|          4 | Navin   | Male   | 8653457652   |
|          5 | Pooja   | Female | 8765345234   |
|          6 | Pravee  | Female | 7634612980   |
|          7 | Suriya  | Male   | 7568347251   |
|          8 | Riya    | Female | 9856923654   |
|          9 | Loshini | Female | 7667676934   |
|         10 | Sheik   | Male   | 98765677634  |
+------------+---------+--------+--------------+
10 rows in set (0.00 sec)

mysql> UPDATE students SET contact_info='9734567987' WHERE name='Sheik';
Query OK, 1 row affected (0.02 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> SELECT * FROM students;
+------------+---------+--------+--------------+
| student_id | name    | gender | contact_info |
+------------+---------+--------+--------------+
|          1 | Madhu   | Female | 8754156253   |
|          2 | Mitha   | Female | 8765345768   |
|          3 | Styris  | Male   | 9834576235   |
|          4 | Navin   | Male   | 8653457652   |
|          5 | Pooja   | Female | 8765345234   |
|          6 | Pravee  | Female | 7634612980   |
|          7 | Suriya  | Male   | 7568347251   |
|          8 | Riya    | Female | 9856923654   |
|          9 | Loshini | Female | 7667676934   |
|         10 | Sheik   | Male   | 9734567987   |
+------------+---------+--------+--------------+
10 rows in set (0.00 sec)

mysql> INSERT INTO movie_genres(genre_name)VALUES
    -> ('Action'),
    -> ('Horror'),
    -> ('Thriller'),
    -> ('Science Fiction'),
    -> ('Comedy'),
    -> ('Romance'),
    -> ('Fantasy');
Query OK, 7 rows affected (0.01 sec)
Records: 7  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM movie_genres;
+----------+-----------------+
| genre_id | genre_name      |
+----------+-----------------+
|        1 | Action          |
|        2 | Horror          |
|        3 | Thriller        |
|        4 | Science Fiction |
|        5 | Comedy          |
|        6 | Romance         |
|        7 | Fantasy         |
+----------+-----------------+
7 rows in set (0.00 sec)

mysql> INSERT INTO student_movie_interests VALUES
    -> (1,6),
    -> (2,5),
    -> (3,6),
    -> (4,1),
    -> (5,7),
    -> (6,2),
    -> (7,1),
    -> (8,4),
    -> (9,3),
    -> (10,1);
Query OK, 10 rows affected (0.02 sec)
Records: 10  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM student_movie_interests;
+------------+----------+
| student_id | genre_id |
+------------+----------+
|          4 |        1 |
|          7 |        1 |
|         10 |        1 |
|          6 |        2 |
|          9 |        3 |
|          8 |        4 |
|          2 |        5 |
|          1 |        6 |
|          3 |        6 |
|          5 |        7 |
+------------+----------+
10 rows in set (0.00 sec)

mysql> INSERT INTO shopping_malls(mall_name,location) VALUES
    -> ('Phoenix Marketcity','Velachery'),
    -> ('Express Avenue','Mount Road'),
    -> ('VR Chennai Mall','Anna Nagar'),
    -> ('Forum Vijaya Mall','Vadapalani'),
    -> ('Spencer Plaza','Nungambakkam'),
    -> ('Ampa Skywalk Mall','Aminjikarai');
Query OK, 6 rows affected (0.02 sec)
Records: 6  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM shopping_malls;
+---------+--------------------+--------------+
| mall_id | mall_name          | location     |
+---------+--------------------+--------------+
|       1 | Phoenix Marketcity | Velachery    |
|       2 | Express Avenue     | Mount Road   |
|       3 | VR Chennai Mall    | Anna Nagar   |
|       4 | Forum Vijaya Mall  | Vadapalani   |
|       5 | Spencer Plaza      | Nungambakkam |
|       6 | Ampa Skywalk Mall  | Aminjikarai  |
+---------+--------------------+--------------+
6 rows in set (0.00 sec)

mysql>  INSERT INTO beaches(beach_name,location)VALUES
    -> ('Marina Beach','Chennai'),
    ->  ('Besant Nagar Beach','Besant Nagar'),
    ->  ('Elliots Beach','Adyar'),
    -> ('VGP Golden Beach','Thiruvanmiyur'),
    ->  ('Santhome Beach','Chennai');
Query OK, 5 rows affected (0.02 sec)
Records: 5  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM beaches;
+----------+--------------------+---------------+
| beach_id | beach_name         | location      |
+----------+--------------------+---------------+
|        1 | Marina Beach       | Chennai       |
|        2 | Besant Nagar Beach | Besant Nagar  |
|        3 | Elliots Beach      | Adyar         |
|        4 | VGP Golden Beach   | Thiruvanmiyur |
|        5 | Santhome Beach     | Chennai       |
+----------+--------------------+---------------+
5 rows in set (0.00 sec)

mysql> INSERT INTO movies(movie_name,hero_name,heroine_name)VALUES
    -> ('Good Bad Ugly','Ajith Kumar','Trisha'),
    -> ('Idly Kadai','Dhanush','Nithya Menon'),
    -> ('Thug Life','Silambarasan','Trisha'),
    -> ('Retro','Suriya','Pooja Hegde'),
    -> ('Dragon','Pradeep Ranganathan','Anupama Parameswaran');
Query OK, 5 rows affected (0.02 sec)
Records: 5  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM movies;
+----------+---------------+---------------------+----------------------+
| movie_id | movie_name    | hero_name           | heroine_name         |
+----------+---------------+---------------------+----------------------+
|        1 | Good Bad Ugly | Ajith Kumar         | Trisha               |
|        2 | Idly Kadai    | Dhanush             | Nithya Menon         |
|        3 | Thug Life     | Silambarasan        | Trisha               |
|        4 | Retro         | Suriya              | Pooja Hegde          |
|        5 | Dragon        | Pradeep Ranganathan | Anupama Parameswaran |
+----------+---------------+---------------------+----------------------+
5 rows in set (0.00 sec)

mysql> INSERT INTO student_favorites VALUES
    -> (1,'Suriya','Samantha'),
    -> (2,'Ajith Kumar','Nayanthara'),
    -> (3,'Suriya','Jyotika'),
    -> (4,'Dhanush','Amy Jackson'),
    -> (5,'Vijay','Trisha'),
    -> (6,'Suriya','Samantha'),
    -> (7,'Rajinikanth','Manju Warrior'),
    -> (8,'Atharva','Sreya'),
    -> (9,'Silambarasan','Megha Akash'),
    -> (10,'Sivakarthikeyan','Nazriya');
Query OK, 10 rows affected (0.02 sec)
Records: 10  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM student_favorites;
+------------+-----------------+------------------+
| student_id | favorite_actor  | favorite_actress |
+------------+-----------------+------------------+
|          1 | Suriya          | Samantha         |
|          2 | Ajith Kumar     | Nayanthara       |
|          3 | Suriya          | Jyotika          |
|          4 | Dhanush         | Amy Jackson      |
|          5 | Vijay           | Trisha           |
|          6 | Suriya          | Samantha         |
|          7 | Rajinikanth     | Manju Warrior    |
|          8 | Atharva         | Sreya            |
|          9 | Silambarasan    | Megha Akash      |
|         10 | Sivakarthikeyan | Nazriya          |
+------------+-----------------+------------------+
10 rows in set (0.00 sec)

mysql> INSERT INTO student_fav_malls VALUES
    -> (1,1),
    -> (2,5),
    -> (3,5),
    -> (4,6),
    -> (5,3),
    -> (6,2),
    -> (7,1),
    -> (8,4),
    -> (9,2),
    -> (10,5);
Query OK, 10 rows affected (0.01 sec)
Records: 10  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM student_fav_malls;
+------------+---------+
| student_id | mall_id |
+------------+---------+
|          1 |       1 |
|          7 |       1 |
|          6 |       2 |
|          9 |       2 |
|          5 |       3 |
|          8 |       4 |
|          2 |       5 |
|          3 |       5 |
|         10 |       5 |
|          4 |       6 |
+------------+---------+
10 rows in set (0.00 sec)

mysql> INSERT INTO student_fav_beaches VALUES
    -> (1,1),
    -> (2,3),
    -> (3,5),
    -> (4,3),
    -> (5,1),
    -> (6,2),
    -> (7,4),
    -> (8,4),
    -> (9,5),
    -> (10,2);
Query OK, 10 rows affected (0.01 sec)
Records: 10  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM student_fav_beaches;
+------------+----------+
| student_id | beach_id |
+------------+----------+
|          1 |        1 |
|          5 |        1 |
|          6 |        2 |
|         10 |        2 |
|          2 |        3 |
|          4 |        3 |
|          7 |        4 |
|          8 |        4 |
|          3 |        5 |
|          9 |        5 |
+------------+----------+
10 rows in set (0.00 sec)

mysql> INSERT INTO student_fav_movies VALUES
    -> (1,4),
    -> (2,1),
    -> (3,2),
    -> (4,4),
    -> (5,5),
    -> (6,4),
    -> (7,1),
    -> (8,3),
    -> (9,5),
    -> (10,4);
Query OK, 10 rows affected (0.01 sec)
Records: 10  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM student_fav_movies;
+------------+----------+
| student_id | movie_id |
+------------+----------+
|          2 |        1 |
|          7 |        1 |
|          3 |        2 |
|          8 |        3 |
|          1 |        4 |
|          4 |        4 |
|          6 |        4 |
|         10 |        4 |
|          5 |        5 |
|          9 |        5 |
+------------+----------+
10 rows in set (0.00 sec)

1.To get all student names

mysql> SELECT name FROM students;
+---------+
| name    |
+---------+
| Madhu   |
| Mitha   |
| Styris  |
| Navin   |
| Pooja   |
| Pravee  |
| Suriya  |
| Riya    |
| Loshini |
| Sheik   |
+---------+
10 rows in set (0.00 sec)

2.Get student contact info by name

mysql> SELECT contact_info FROM students WHERE name='Madhu';
+--------------+
| contact_info |
+--------------+
| 8754156253   |
+--------------+
1 row in set (0.00 sec)

3.Students who like Romance movies

mysql> SELECT s.name
    -> FROM students s
    -> JOIN student_movie_interests smi ON s.student_id=smi.student_id
    -> JOIN movie_genres mg ON smi.genre_id=mg.genre_id
    -> WHERE mg.genre_name='Romance';
+--------+
| name   |
+--------+
| Madhu  |
| Styris |
+--------+
2 rows in set (0.00 sec)

4.
